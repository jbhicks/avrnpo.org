<!-- Profile Settings Page -->
<div>
  <!-- Navigation -->
  <nav>
    <div>
      <div>
        <!-- Logo -->
        <div>
          <a href="/">
            <div>
              <div x-html="getIcon('cube', 'w-4 h-4 text-white')"></div>
            </div>
            <span>My Go SaaS</span>
          </a>
        </div>
        
        <!-- Back to Dashboard -->
        <div>
          <a href="/dashboard">
            <div x-html="getIcon('arrowLeft', 'w-4 h-4 mr-2')"></div>Back to Dashboard
          </a>
        </div>
      </div>
    </div>
  </nav>

  <div>
    <!-- Page Header -->
    <div>
      <div>
        <div x-html="getIcon('userCircle', 'w-8 h-8 text-white')"></div>
      </div>
      <h1>Profile Settings</h1>
      <p>Manage your personal information and preferences</p>
    </div>

    <!-- Flash Messages -->
    <%= if (flash["success"]) { %>
      <div>
        <div>
          <div x-html="getIcon('checkCircle', 'w-5 h-5 mr-2')"></div>
          <%= for (msg) in flash["success"] { %><%= msg %><% } %>
        </div>
      </div>
    <% } %>

    <%= if (flash["danger"]) { %>
      <div>
        <div>
          <div x-html="getIcon('exclamationCircle', 'w-5 h-5 mr-2')"></div>
          <%= for (msg) in flash["danger"] { %><%= msg %><% } %>
        </div>
      </div>
    <% } %>

    <!-- Profile Form -->
    <div>
      <%= formFor(user, {action: "/profile", method: "POST"}) { %>
        <div>
          <!-- First Name -->
          <div>
            <label>First Name</label>
            <%= f.InputTag("FirstName", {
              type: "text",
              placeholder: "Enter your first name"
            }) %>
            <%= if (errors && errors["first_name"]) { %>
              <p><%= errors["first_name"] %></p>
            <% } %>
          </div>

          <!-- Last Name -->
          <div>
            <label>Last Name</label>
            <%= f.InputTag("LastName", {
              type: "text",
              placeholder: "Enter your last name"
            }) %>
            <%= if (errors && errors["last_name"]) { %>
              <p><%= errors["last_name"] %></p>
            <% } %>
          </div>

          <!-- Email (read-only) -->
          <div>
            <label>Email Address</label>
            <input 
              type="email" 
              value="<%= user.Email %>" 
              readonly 
            />
            <p>
              <div x-html="getIcon('informationCircle', 'w-4 h-4 mr-1 inline-block')"></div>
              Email changes require contacting support
            </p>
          </div>

          <!-- Submit Button -->
          <div>
            <button type="submit">
              <div x-html="getIcon('save', 'w-5 h-5 mr-2')"></div>
              Update Profile
            </button>
          </div>
        </div>
      <% } %>

      <!-- Account Settings Link -->
      <div>
        <div>
          <a href="/account">
            <div x-html="getIcon('cog', 'w-5 h-5 mr-2')"></div>
            Account Settings (Password & Security)
          </a>
        </div>
      </div>
    </div>
  </div>
</div>