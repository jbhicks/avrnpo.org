<!-- User Details (HTMX Partial) -->
<header class="admin-header">
    <div>
        <h1><%= user.FirstName %> <%= user.LastName %></h1>
        <p class="text-muted mb-0">
            <%= if (user.Role == "admin") { %>
            <span class="status-published">Administrator</span>
            <% } else { %>
            <span class="status-draft">User</span>
            <% } %> • Member since <%= dateFormat(user.CreatedAt, "Jan 2, 2006")
            %>
        </p>
    </div>
    <div class="flex flex-gap-sm">
        <a
            href="/admin/users"
            role="button"
            class="outline"
            hx-get="/admin/users"
            hx-target="#main-content"
            hx-push-url="true"
            >← Back to Users</a
        >
        <a
            href="/admin/users/<%= user.ID %>/edit"
            role="button"
            class="secondary"
            hx-get="/admin/users/<%= user.ID %>/edit"
            hx-target="#main-content"
            hx-push-url="true"
            >Edit User</a
        >
    </div>
</header>

<div class="grid-2col">
    <!-- User Information -->
    <article>
        <header>
            <h3>User Information</h3>
        </header>

        <div class="mb-2">
            <strong>Full Name:</strong><br />
            <%= user.FirstName %> <%= user.LastName %>
        </div>

        <div class="mb-2">
            <strong>Email Address:</strong><br />
            <a href="mailto:<%= user.Email %>"><%= user.Email %></a>
        </div>

        <div class="mb-2">
            <strong>Account Type:</strong><br />
            <%= if (user.Role == "admin") { %>
            <span class="admin-role">Administrator</span>
            <br /><small>Full access to admin panel and user management</small>
            <% } else { %>
            <span class="user-role">Regular User</span>
            <br /><small>Standard user account with limited privileges</small>
            <% } %>
        </div>
    </article>

    <!-- Account Details -->
    <aside class="sidebar">
        <h3>Account Details</h3>

        <div class="mb-2">
            <strong>User ID:</strong><br />
            <code><%= user.ID %></code>
        </div>

        <div class="mb-2">
            <strong>Created:</strong><br />
            <%= dateFormat(user.CreatedAt, "Jan 2, 2006 at 3:04 PM") %>
        </div>

        <div class="mb-2">
            <strong>Last Updated:</strong><br />
            <%= dateFormat(user.UpdatedAt, "Jan 2, 2006 at 3:04 PM") %>
        </div>

        <!-- Actions -->
        <hr />
        <div class="action-column">
            <a
                href="/admin/users/<%= user.ID %>/edit"
                role="button"
                class="secondary outline"
                hx-get="/admin/users/<%= user.ID %>/edit"
                hx-target="#main-content"
                hx-push-url="true"
            >
                Edit User Details
            </a>

            <%= if (user.ID.String() != current_user.ID.String()) { %>
            <button
                type="button"
                class="outline btn-danger"
                hx-delete="/admin/users/<%= user.ID %>"
                hx-confirm="Are you sure you want to delete this user? This action cannot be undone."
                hx-target="#main-content"
                hx-push-url="/admin/users"
            >
                Delete User
            </button>
            <% } else { %>
            <small class="text-muted text-center p-1">
                You cannot delete your own account
            </small>
            <% } %>
        </div>
    </aside>
</div>
