=== RUN   Test_ActionSuite
=== RUN   Test_ActionSuite/Test_Auth_Create
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 0, in-use: 0, idle: 0)
[POP] 2025/05/25 00:46:44 sql - SELECT EXISTS (SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1) | ["mark@example.com"] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - INSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "password_hash", "updated_at") VALUES (:created_at, :email, :first_name, :id, :last_name, :password_hash, :updated_at) | [{"id":"72243baf-6581-4c43-8399-c45969decc61","created_at":"2025-05-25T00:46:44.201739-07:00","updated_at":"2025-05-25T00:46:44.201739-07:00","email":"mark@example.com","password_hash":"$2a$10$6cZPTTslZgs7mSBYi.3RW.z1pBirC8AUHZu2j7mogZPqPXW4tFx6q","first_name":"Mark","last_name":"Smith"}] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
=== RUN   Test_ActionSuite/Test_Auth_Create/Valid
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-5533809824498821164, tx=5533809824498821164)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["mark@example.com"] (conn=tx-5533809824498821164, tx=5533809824498821164)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-5533809824498821164, tx=5533809824498821164)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-5533809824498821164 content_type=application/x-www-form-urlencoded db=1.005911ms duration=55.427478ms form="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" human_size="0 B" method=POST params="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" path=/auth/ request_id=19a9697924fbd47bf6c8-d72c1c413f8edbe3c8ad size=0 status=302 tx=5533809824498821164
=== RUN   Test_ActionSuite/Test_Auth_Create/Email_Invalid
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-9185381333246793142, tx=9185381333246793142)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE users.id = $1 LIMIT 1 | ["44b5a905-e809-40ff-8038-4bd7bd263518"] (conn=tx-9185381333246793142, tx=9185381333246793142)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["noexist@example.com"] (conn=tx-9185381333246793142, tx=9185381333246793142)
[POP] 2025/05/25 00:46:44 sql - ROLLBACK Transaction --- (conn=tx-9185381333246793142, tx=9185381333246793142)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-9185381333246793142 content_type=application/x-www-form-urlencoded db="464.887µs" duration=1.02556ms form="{\"CreatedAt\":[\"\"],\"Email\":[\"noexist@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" human_size="3.1 kB" method=POST params="{\"CreatedAt\":[\"\"],\"Email\":[\"noexist@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" path=/auth/ render="314.181µs" request_id=19a9697924fbd47bf6c8-474c870f1403d085d56e size=3108 status=401 tx=9185381333246793142
=== RUN   Test_ActionSuite/Test_Auth_Create/Password_Invalid
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-7056024237636743166, tx=7056024237636743166)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE users.id = $1 LIMIT 1 | ["44b5a905-e809-40ff-8038-4bd7bd263518"] (conn=tx-7056024237636743166, tx=7056024237636743166)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["mark@example.com"] (conn=tx-7056024237636743166, tx=7056024237636743166)
[POP] 2025/05/25 00:46:44 sql - ROLLBACK Transaction --- (conn=tx-7056024237636743166, tx=7056024237636743166)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-7056024237636743166 content_type=application/x-www-form-urlencoded db="265.772µs" duration=49.239128ms form="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" human_size="2.9 kB" method=POST params="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" path=/auth/ render="265.882µs" request_id=19a9697924fbd47bf6c8-d652d245b9b4ed773342 size=2864 status=401 tx=7056024237636743166
=== RUN   Test_ActionSuite/Test_Auth_New
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-250810688729181153, tx=250810688729181153)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-250810688729181153, tx=250810688729181153)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/new/ conn=tx-250810688729181153 content_type=application/html db=0s duration=1.144247ms human_size="2.9 kB" method=GET params="{}" path=/auth/new/ render="847.886µs" request_id=39f1d5029d03610f74c4-964ad074c5f484237637 size=2864 status=200 tx=250810688729181153
=== RUN   Test_ActionSuite/Test_Auth_Redirect
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - SELECT EXISTS (SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1) | ["mark@example.com"] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - INSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "password_hash", "updated_at") VALUES (:created_at, :email, :first_name, :id, :last_name, :password_hash, :updated_at) | [{"id":"2106015b-e739-4ab9-9ba9-635b5fee784f","created_at":"2025-05-25T00:46:44.362922-07:00","updated_at":"2025-05-25T00:46:44.362922-07:00","email":"mark@example.com","password_hash":"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m","first_name":"Mark","last_name":"Smith"}] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
=== RUN   Test_ActionSuite/Test_Auth_Redirect/RedirectURL_defined
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-4190633418627506245, tx=4190633418627506245)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["mark@example.com"] (conn=tx-4190633418627506245, tx=4190633418627506245)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-4190633418627506245, tx=4190633418627506245)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-4190633418627506245 content_type=application/x-www-form-urlencoded db="193.864µs" duration=48.480299ms form="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" human_size="0 B" method=POST params="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" path=/auth/ request_id=26fede9965d09d400a09-ae3e51e6cf1fe8224f69 size=0 status=302 tx=4190633418627506245
=== RUN   Test_ActionSuite/Test_Auth_Redirect/RedirectURL_nil
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-1512310470237487649, tx=1512310470237487649)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE users.id = $1 LIMIT 1 | ["44b5a905-e809-40ff-8038-4bd7bd263518"] (conn=tx-1512310470237487649, tx=1512310470237487649)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["mark@example.com"] (conn=tx-1512310470237487649, tx=1512310470237487649)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-1512310470237487649, tx=1512310470237487649)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-1512310470237487649 content_type=application/x-www-form-urlencoded db="337.261µs" duration=48.386462ms form="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" human_size="0 B" method=POST params="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" path=/auth/ request_id=26fede9965d09d400a09-488ffeb5f007ca60a90f size=0 status=302 tx=1512310470237487649
=== RUN   Test_ActionSuite/Test_Auth_Redirect/RedirectURL_empty
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-6575273453913076512, tx=6575273453913076512)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE users.id = $1 LIMIT 1 | ["44b5a905-e809-40ff-8038-4bd7bd263518"] (conn=tx-6575273453913076512, tx=6575273453913076512)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1 LIMIT 1 | ["mark@example.com"] (conn=tx-6575273453913076512, tx=6575273453913076512)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-6575273453913076512, tx=6575273453913076512)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-6575273453913076512 content_type=application/x-www-form-urlencoded db="393.038µs" duration=48.635375ms form="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" human_size="0 B" method=POST params="{\"CreatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"2106015b-e739-4ab9-9ba9-635b5fee784f\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"$2a$10$Qurni4QwUb1kX2sT68pClOsGsY/z06doOvrLzwmzA6Q2fdXAnAy3m\"],\"UpdatedAt\":[\"2025-05-25T00:46:44.362922-07:00\"]}" path=/auth/ request_id=26fede9965d09d400a09-e65b38bb2e03ae16dec1 size=0 status=302 tx=6575273453913076512
=== RUN   Test_ActionSuite/Test_Auth_Signin
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-3567450560638407364, tx=3567450560638407364)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-3567450560638407364, tx=3567450560638407364)
level=info time="2025-05-25T00:46:44-07:00" msg=/auth/ conn=tx-3567450560638407364 content_type=application/html db=0s duration="471.697µs" human_size="1.5 kB" method=GET params="{}" path=/auth/ render="221.064µs" request_id=56966daafc0fb88d0a4c-16d51f9bf196b88cf5f7 size=1546 status=200 tx=3567450560638407364
=== RUN   Test_ActionSuite/Test_HomeHandler
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-7604931458821193910, tx=7604931458821193910)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-7604931458821193910, tx=7604931458821193910)
level=info time="2025-05-25T00:46:44-07:00" msg=/ conn=tx-7604931458821193910 content_type=application/html db=0s duration="982.131µs" human_size="5.5 kB" method=GET params="{}" path=/ render="693.59µs" request_id=00c94f9dce8e7f2e7753-ab7d0a78205e9b3facda size=5470 status=200 tx=7604931458821193910
=== RUN   Test_ActionSuite/Test_HomeHandler_LoggedIn
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - SELECT EXISTS (SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1) | ["mark@example.com"] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - INSERT INTO "users" ("created_at", "email", "first_name", "id", "last_name", "password_hash", "updated_at") VALUES (:created_at, :email, :first_name, :id, :last_name, :password_hash, :updated_at) | [{"id":"88593dee-11ee-4388-a81f-8c227e47c056","created_at":"2025-05-25T00:46:44.563665-07:00","updated_at":"2025-05-25T00:46:44.563665-07:00","email":"mark@example.com","password_hash":"$2a$10$THAZk8uyN31Su5OtoOXzi.cVOcNh32DCoeLJDJ9al6c4I5kpBsFE.","first_name":"Mark","last_name":"Smith"}] (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-8790576810673635511, tx=8790576810673635511)
[POP] 2025/05/25 00:46:44 sql - SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE users.id = $1 LIMIT 1 | ["88593dee-11ee-4388-a81f-8c227e47c056"] (conn=tx-8790576810673635511, tx=8790576810673635511)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-8790576810673635511, tx=8790576810673635511)
level=info time="2025-05-25T00:46:44-07:00" msg=/ conn=tx-8790576810673635511 content_type=application/html db="186.875µs" duration="710.66µs" human_size="5.5 kB" method=GET params="{}" path=/ render="273.663µs" request_id=46779e60fa8cd6536a8f-3ba89e1f3bd4aa16b3eb size=5470 status=200 tx=8790576810673635511
    home_test.go:32: 
        	Error Trace:	/home/josh/my_go_saas_template/actions/home_test.go:32
        	Error:      	"<!DOCTYPE html>\n<html>\n  <head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <meta charset=\"utf-8\">\n    <title>My Go SaaS - Modern SaaS Platform</title>\n    \n    <!-- Tailwind CSS via CDN for reliable styling -->\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    \n    <!-- Alpine.js for interactive components -->\n    <script defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\"></script>\n    \n    <link href=\"/assets/application.css\" media=\"screen\" rel=\"stylesheet\" />\n    \n    \n    <link rel=\"icon\" href=\"/assets/images/favicon.ico\">\n    <!-- Font Awesome for icons -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\n  </head>\n  <body class=\"bg-gray-50 min-h-screen\">\n    <div class=\"row\">\n  <div class=\"col-md-12\">\n    \n  </div>\n</div>\n\n    <!-- Hero Section -->\n<div class=\"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 min-h-screen\">\n  <!-- Navigation -->\n  <nav class=\"bg-transparent relative z-50\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between items-center py-6\">\n        <!-- Logo -->\n        <div class=\"flex items-center\">\n          <div class=\"w-8 h-8 bg-white rounded-full flex items-center justify-center\">\n            <i class=\"fas fa-cube text-gray-900 text-sm\"></i>\n          </div>\n          <span class=\"text-xl font-bold text-white ml-2\">My Go SaaS</span>\n        </div>\n        \n        <!-- Auth Buttons -->\n        <div class=\"flex items-center space-x-4\">\n          \n            <a href=\"/auth/new\" class=\"text-gray-300 hover:text-white transition-colors\">Sign In</a>\n            <a href=\"/users/new\" class=\"bg-white text-gray-900 px-4 py-2 rounded-md hover:bg-gray-100 transition-colors font-medium\">Get Started</a>\n          \n        </div>\n      </div>\n    </div>\n  </nav>\n\n  <!-- Hero Content -->\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32\">\n    <div class=\"text-center\">\n      <h1 class=\"text-5xl md:text-6xl font-bold text-white mb-6 leading-tight\">\n        Build Your SaaS<br>\n        <span class=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400\">\n          The Right Way\n        </span>\n      </h1>\n      <p class=\"text-xl text-gray-300 max-w-3xl mx-auto mb-10 leading-relaxed\">\n        A powerful, modern SaaS template built with Go and Buffalo. Everything you need to launch your next big idea - authentication, billing, user management, and more.\n      </p>\n      \n      <!-- CTA Buttons -->\n      <div class=\"flex flex-col sm:flex-row gap-4 justify-center items-center\">\n        \n          <a href=\"/users/new\" class=\"bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg\">\n            Start Free Trial →\n          </a>\n          <a href=\"/auth/new\" class=\"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-gray-900 transition-colors font-semibold text-lg\">\n            Sign In\n          </a>\n        \n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Features Section -->\n<div class=\"bg-white py-24\">\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n    <div class=\"text-center mb-16\">\n      <h2 class=\"text-4xl font-bold text-gray-900 mb-4\">Everything You Need</h2>\n      <p class=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n        Built-in features that scale with your business\n      </p>\n    </div>\n\n    <div class=\"grid md:grid-cols-3 gap-8\">\n      <div class=\"text-center p-6\">\n        <div class=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <i class=\"fas fa-shield-alt text-blue-600 text-2xl\"></i>\n        </div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Secure Authentication</h3>\n        <p class=\"text-gray-600\">Built-in user registration, login, and session management with enterprise-grade security.</p>\n      </div>\n      \n      <div class=\"text-center p-6\">\n        <div class=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <i class=\"fas fa-database text-green-600 text-2xl\"></i>\n        </div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Database Ready</h3>\n        <p class=\"text-gray-600\">PostgreSQL integration with migrations, models, and ORM ready to scale.</p>\n      </div>\n      \n      <div class=\"text-center p-6\">\n        <div class=\"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <i class=\"fas fa-paint-brush text-purple-600 text-2xl\"></i>\n        </div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Modern UI</h3>\n        <p class=\"text-gray-600\">Beautiful, responsive design with Tailwind CSS and customizable components.</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- CTA Section -->\n<div class=\"bg-gray-50 py-16\">\n  <div class=\"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8\">\n    <h2 class=\"text-3xl font-bold text-gray-900 mb-4\">\n      Ready to Start Building?\n    </h2>\n    <p class=\"text-xl text-gray-600 mb-8\">\n      Join thousands of developers who trust our SaaS template\n    </p>\n    \n      <a href=\"/users/new\" class=\"bg-gray-900 text-white px-8 py-4 rounded-lg hover:bg-gray-800 transition-colors font-semibold text-lg\">\n        Get Started Free →\n      </a>\n    \n  </div>\n</div>\n\n    <script src=\"/assets/application.js\" type=\"text/javascript\"></script>\n  </body>\n</html>\n" does not contain "Go to Dashboard"
        	Test:       	Test_ActionSuite/Test_HomeHandler_LoggedIn
=== RUN   Test_ActionSuite/Test_Users_Create
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - SELECT COUNT(*) AS row_count FROM (SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users) a (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-3966567042338325163, tx=3966567042338325163)
[POP] 2025/05/25 00:46:44 sql - SELECT EXISTS (SELECT users.created_at, users.email, users.first_name, users.id, users.last_name, users.password_hash, users.updated_at FROM users AS users WHERE email = $1) | ["mark@example.com"] (conn=tx-3966567042338325163, tx=3966567042338325163)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-3966567042338325163, tx=3966567042338325163)
level=info time="2025-05-25T00:46:44-07:00" msg=/users/ conn=tx-3966567042338325163 content_type=application/x-www-form-urlencoded db=0s duration=48.09257ms form="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" human_size="3.2 kB" method=POST params="{\"CreatedAt\":[\"\"],\"Email\":[\"mark@example.com\"],\"FirstName\":[\"Mark\"],\"ID\":[\"00000000-0000-0000-0000-000000000000\"],\"LastName\":[\"Smith\"],\"Password\":[\"[FILTERED]\"],\"PasswordConfirmation\":[\"[FILTERED]\"],\"PasswordHash\":[\"\"],\"UpdatedAt\":[\"\"]}" path=/users/ render="541.034µs" request_id=f75b5a35e23f31f81d16-76d5f3e2f6d01fc85f25 size=3243 status=200 tx=3966567042338325163
    users_test.go:28: 
        	Error Trace:	/home/josh/my_go_saas_template/actions/users_test.go:28
        	Error:      	Not equal: 
        	            	expected: 302
        	            	actual  : 200
        	Test:       	Test_ActionSuite/Test_Users_Create
=== RUN   Test_ActionSuite/Test_Users_New
[POP] 2025/05/25 00:46:44 sql - DO
		$func$
			DECLARE
			_tbl text;
			_sch text;
			BEGIN
				FOR _sch, _tbl IN
					SELECT schemaname, tablename
					FROM   pg_tables
					WHERE  tablename <> 'schema_migration' AND schemaname NOT IN ('pg_catalog', 'information_schema') AND tableowner = current_user
				LOOP
					EXECUTE format('ALTER TABLE %I.%I DISABLE TRIGGER ALL;', _sch, _tbl);
					EXECUTE format('DELETE FROM %I.%I CASCADE', _sch, _tbl);
					EXECUTE format('ALTER TABLE %I.%I ENABLE TRIGGER ALL;', _sch, _tbl);
				END LOOP;
			END
		$func$; (conn=conn-108990331177477847, tx=0, maxconn: 5, openconn: 1, in-use: 0, idle: 1)
[POP] 2025/05/25 00:46:44 sql - BEGIN Transaction --- (conn=tx-2676960564980810295, tx=2676960564980810295)
[POP] 2025/05/25 00:46:44 sql - END Transaction --- (conn=tx-2676960564980810295, tx=2676960564980810295)
level=info time="2025-05-25T00:46:44-07:00" msg=/users/new/ conn=tx-2676960564980810295 content_type=application/html db=0s duration="484.436µs" human_size="3.2 kB" method=GET params="{}" path=/users/new/ render="257.983µs" request_id=e7ea139c77451ae6624b-d79239dd4aa3dfb87f58 size=3211 status=200 tx=2676960564980810295
--- FAIL: Test_ActionSuite (0.50s)
    --- PASS: Test_ActionSuite/Test_Auth_Create (0.16s)
        --- PASS: Test_ActionSuite/Test_Auth_Create/Valid (0.06s)
        --- PASS: Test_ActionSuite/Test_Auth_Create/Email_Invalid (0.00s)
        --- PASS: Test_ActionSuite/Test_Auth_Create/Password_Invalid (0.05s)
    --- PASS: Test_ActionSuite/Test_Auth_New (0.00s)
    --- PASS: Test_ActionSuite/Test_Auth_Redirect (0.20s)
        --- PASS: Test_ActionSuite/Test_Auth_Redirect/RedirectURL_defined (0.05s)
        --- PASS: Test_ActionSuite/Test_Auth_Redirect/RedirectURL_nil (0.05s)
        --- PASS: Test_ActionSuite/Test_Auth_Redirect/RedirectURL_empty (0.05s)
    --- PASS: Test_ActionSuite/Test_Auth_Signin (0.00s)
    --- PASS: Test_ActionSuite/Test_HomeHandler (0.00s)
    --- FAIL: Test_ActionSuite/Test_HomeHandler_LoggedIn (0.05s)
    --- FAIL: Test_ActionSuite/Test_Users_Create (0.05s)
    --- PASS: Test_ActionSuite/Test_Users_New (0.00s)
FAIL
FAIL	my_go_saas_template/actions	0.506s
FAIL
